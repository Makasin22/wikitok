<div class="feed">
  <app-wiki-card
    *ngFor="let article of articles"
    [article]="article"
    [liked]="liked.isLiked(article.pageid)"
    (like)="toggleLike(article)">
  </app-wiki-card>

  <div #observer class="sentinel"></div>
  <div *ngIf="loading" class="loading">–õ–æ–∞–¥–∏–Ω–≥...</div>
</div>

<button class="likes-btn" (click)="toggleLikesMenu()">
  –õ—É–∫–∞—Å—ã ({{ liked.articles.length }})
</button>

<div class="likes-overlay" *ngIf="showLikes" (click)="toggleLikesMenu()">
  <div class="likes-panel" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="toggleLikesMenu()">‚úï</button>
    <h2>–õ–∞–π–∫–∞–Ω–Ω–æ–µ</h2>
    <div *ngIf="liked.articles.length === 0">–ê –µ—â–µ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.</div>
    <div *ngFor="let art of liked.articles" class="liked-item">
      <img *ngIf="art.thumbnail" [src]="art.thumbnail.source" [alt]="art.title" />
      <div class="info">
        <a
          [href]="art.url"
          target="_blank"
          rel="noopener noreferrer"
          >{{ art.displaytitle }}</a
        >
        <p class="extract">{{ art.extract }}</p>
      </div>
      <button (click)="toggleLike(art)" aria-label="Remove">üóëÔ∏è</button>
    </div>
  </div>
</div>
